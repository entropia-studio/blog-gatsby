(self.webpackChunkgatsbyjs_com=self.webpackChunkgatsbyjs_com||[]).push([[769],{1999:function(e,t,n){"use strict";n.d(t,{Z:function(){return it}});var r=n(64023),o=n(67294),i=n(92102),a=n(1342),s=n(4815),l=n(5575),c=n(9357),u=n(44556),d=n(85210),m=n(27053),f=n(87329),p=n(139),h=n(66919),g=n(96156);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e,t){void 0===t&&(t={});var n=(0,o.useState)(""),r=n[0],i=n[1];return(0,o.useEffect)((function(){if("undefined"!=typeof window){var n=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&i(e.target.id)}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({rootMargin:"0% 0% -80% 0%"},t)),r=e.map((function(e){return document.getElementById(e)})).filter(Boolean);return r.forEach((function(e){n.observe(e)})),function(){r.forEach((function(e){n.unobserve(e)}))}}}),[]),r};function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function e(t,n,r,o){void 0===n&&(n=!0),void 0===o&&(o=1);var i=[];if(t)for(var a,s=v(t);!(a=s()).done;){var l=a.value;l.url&&i.push(l.url.slice(1)),l.items&&n&&o<(r||6)&&i.push.apply(i,(0,f.Z)(e(l.items,!0,r,o+1)))}return i};function w(e,t,n,r,o,i){return e&&e.map((function(e,a){var s=i&&e.url==="#"+o;return(0,p.tZ)("li",{"data-testid":e.url||"",sx:function(e){var t;return(t={})[e.mediaQueries.hd]={fontSize:1},t},key:t.pathname+(e.url||n+"-"+a)},e.url&&(0,p.tZ)("a",{sx:{textDecoration:"none","&&":{color:s?"link.color":"text.secondary",border:0,borderBottom:function(e){return s?"1px solid "+e.colors.link.hoverBorder:"none"},transition:function(e){return"all "+e.transitions.speed.fast+" "+e.transitions.curve.default},":hover":{color:"link.color",borderBottom:function(e){return"1px solid "+e.colors.link.hoverBorder}}}},href:e.url},e.title),e.items&&function(e,t){return null===t||e<t}(n,r)&&(0,p.tZ)("ul",{sx:{color:"text.secondary",listStyle:"none",ml:5}},w(e.items,t,n+1,r,o,i)))}))}var k=function(e){var t=e.items,n=e.depth,r=e.location,i=(0,o.useState)(!1),a=i[0],s=i[1],l=y(x(t,!0,n)),c=(0,h.F)();return(0,o.useEffect)((function(){var e=window.matchMedia("(min-width: "+c.breakpoints[4]+")");s(e.matches);var t=function(e){return s(e.matches)};return e.addListener(t),function(){return e.removeListener(t)}}),[]),t?(0,p.tZ)("nav",{sx:{mb:[8,null,null,null,null,0],pb:[6,null,null,null,null,0],borderBottom:function(e){return["1px solid "+e.colors.ui.border,null,null,null,null,0]}}},(0,p.tZ)("h2",{sx:{color:"text.secondary",fontSize:1,letterSpacing:"tracked",mt:0,textTransform:"uppercase"}},"Table of Contents"),(0,p.tZ)("ul",{sx:{listStyle:"none",m:0}},w(t,r,1,n,l,a))):null},C=n(80054),O=n(42775);function S(e){var t=e.path;return(0,p.tZ)("div",{sx:{display:"flex",alignItems:"center",mt:10}},(0,p.tZ)("a",{sx:{fontSize:1,lineHeight:"solid",py:4,"&&":{border:0,color:"text.secondary",display:"flex",fontWeight:"body"},"&&:hover":{color:"purple.60"}},href:"https://github.com/gatsbyjs/gatsby/blob/master/"+t},(0,p.tZ)(O.Gpi,{sx:{mr:3}})," Edit this page on GitHub"))}var j=n(22122),D=n(19756),E=n(1597),P=["prev","next"],L={"&&":{borderBottom:0},color:"gatsby",fontSize:2,fontWeight:"bold",lineHeight:"dense"},T={color:"text.secondary",fontSize:2,fontWeight:"body",mb:function(e){return e.space[3]},mt:0},R=function(e){var t=e.prev,n=void 0===t?null:t,r=e.next,o=void 0===r?null:r,i=(0,D.Z)(e,P);return n||o?(0,p.tZ)("nav",(0,j.Z)({"aria-label":"pagination",sx:function(e){var t;return(t={})[e.mediaQueries.phablet]={display:"flex",justifyContent:"space-between",width:"100%"},t.a={textDecoration:"none"},t}},i),(0,p.tZ)("div",{css:function(e){var t;return(t={})[e.mediaQueries.phablet]={width:"48%"},t}},n&&(0,p.tZ)(E.Link,{to:n.link,sx:L},(0,p.tZ)("p",{sx:T},"Previous"),(0,p.tZ)("span",{sx:function(e){var t;return(t={})[e.mediaQueries.tablet]={ml:"-1.5em"},t.display="inline-flex",t.alignItems="center",t}},(0,p.tZ)(O.KYK,{sx:{flexShrink:0,mr:"0.5em",verticalAlign:"sub"}}),n.title))),(0,p.tZ)("div",{sx:function(e){var t;return t={textAlign:"right",mt:function(e){return e.space[6]}},t[e.mediaQueries.phablet]={mt:0,width:"48%"},t}},o&&(0,p.tZ)(E.Link,{to:o.link,sx:L},(0,p.tZ)("p",{sx:T},"Next"),(0,p.tZ)("span",{sx:function(e){var t;return(t={})[e.mediaQueries.tablet]={mr:"-1.5em"},t.display="inline-flex",t.alignItems="center",t}},o.title,(0,p.tZ)(O.hdK,{sx:{flexShrink:0,ml:"0.5em",verticalAlign:"sub"}}))))):null},N=n(64983),z=n(87600),I=n(72792),A=n(56310),M=n(40582),Q=n(24947),B=n(45542),F=["components"],G={_frontmatter:{}};function W(e){var t=e.components,n=(0,D.Z)(e,F);return(0,N.mdx)("wrapper",(0,j.Z)({},G,n,{components:t,mdxType:"MDXLayout"}),(0,N.mdx)("p",null,(0,N.mdx)("strong",{parentName:"p"},"Content")," is often organized in systems like databases, content management systems, files, or external APIs."),(0,N.mdx)("p",null,"Any source of data can be connected to Gatsby through plugins or using Gatsby’s APIs."))}W.isMDXComponent=!0;var q=["components"],X={_frontmatter:{}};function H(e){var t=e.components,n=(0,D.Z)(e,q);return(0,N.mdx)("wrapper",(0,j.Z)({},X,n,{components:t,mdxType:"MDXLayout"}),(0,N.mdx)("p",null,(0,N.mdx)("strong",{parentName:"p"},"Building")," compiles your application with modern features like server-side rendering, route based code splitting (",(0,N.mdx)("a",{parentName:"p",href:"/blog/2019-04-02-behind-the-scenes-what-makes-gatsby-great/"},"and more!"),") for great performance out of the box."),(0,N.mdx)("p",null,"During the build (when you run ",(0,N.mdx)("inlineCode",{parentName:"p"},"gatsby build")," or ",(0,N.mdx)("inlineCode",{parentName:"p"},"gatsby develop"),"), data is fetched and combined into a GraphQL schema with a static snapshot of all data your site needs."))}H.isMDXComponent=!0;var Y=["components"],V={_frontmatter:{}};function _(e){var t=e.components,n=(0,D.Z)(e,Y);return(0,N.mdx)("wrapper",(0,j.Z)({},V,n,{components:t,mdxType:"MDXLayout"}),(0,N.mdx)("p",null,(0,N.mdx)("strong",{parentName:"p"},"Data")," returned by GraphQL comes back in the exact same shape that you asked for it, without having to travel across the network because it was already gathered at ",(0,N.mdx)("a",{parentName:"p",href:"/docs/glossary#build"},"build time"),"."),(0,N.mdx)("p",null,"Since all data is combined in the data layer, it’s even possible to query multiple sources at the same time."))}_.isMDXComponent=!0;var $=["components"],K={_frontmatter:{}};function U(e){var t=e.components,n=(0,D.Z)(e,$);return(0,N.mdx)("wrapper",(0,j.Z)({},K,n,{components:t,mdxType:"MDXLayout"}),(0,N.mdx)("p",null,"React powers components in Gatsby sites that are ",(0,N.mdx)("a",{parentName:"p",href:"/docs/glossary#hydration"},"rehydrated"),", whatever you can do in React you can do with Gatsby."),(0,N.mdx)("p",null,"Your components can pull in whatever data they need from any source in the data layer."))}U.isMDXComponent=!0;var J=["components"],ee={_frontmatter:{}};function te(e){var t=e.components,n=(0,D.Z)(e,J);return(0,N.mdx)("wrapper",(0,j.Z)({},ee,n,{components:t,mdxType:"MDXLayout"}),(0,N.mdx)("p",null,"The optimized ",(0,N.mdx)("strong",{parentName:"p"},"app")," runs in the browser with all the speed of Gatsby as well as the convenience and great developer experience of working with tools like React and GraphQL."))}te.isMDXComponent=!0;var ne=n(91602),re=[{title:"site-data.yaml",language:"yaml",content:"site:\n  title: Home\n  description: Gatsby tips\n"},{title:"site-data.json",language:"json",content:'{\n  "site": {\n    "title": "Home",\n    "description": "Gatsby tips"\n  }\n}\n'},{title:"gatsby-config.js (CMS)",language:"cms",content:"plugins: [\n  `gatsby-source-contentful`,\n  `gatsby-source-wordpress`,\n  `gatsby-source-drupal`,\n  ...\n]"},{title:"gatsby-config.js (SaaS)",language:"cms",content:"plugins: [\n  `gatsby-source-airtable`,\n  `gatsby-source-shopify`,\n  `gatsby-source-firebase`,\n  ...\n]"},{title:"SQL Database",language:"db",content:"+----+---------+-------------+\n| ID |  Title  |    Desc     |\n+----+---------+-------------+\n|  1 | Home    | Gatsby tips |\n+----+---------+-------------+"}];var oe=[{title:"Content",baseColor:"orange",icon:(0,p.tZ)(ne.GX,null),text:(0,p.tZ)(W,null),example:(0,p.tZ)((function(){var e=(0,o.useState)(0),t=e[0],n=e[1],r=re[t],i=r.title,a=r.language,s=r.content;return(0,p.tZ)(B.Z,{title:i,language:a,onRotate:function(){n((function(e){return(e+1)%re.length}))}},s)}),null)},{title:"Build",icon:(0,p.tZ)(ne.aR,null),baseColor:"green",text:(0,p.tZ)(H,null),example:(0,p.tZ)(B.Z,{title:"src/pages/homepage.js",language:"javascript"},"const query = graphql`\n  query HomePageQuery {\n    site {\n      title\n      description\n    }\n  }\n`\n")},{title:"Data",icon:(0,p.tZ)(ne.v4,null),baseColor:"magenta",text:(0,p.tZ)(_,null),example:(0,p.tZ)(B.Z,{title:"GraphQL Response",language:"json"},'data: {\n  site: {\n    title: "Home"\n    description: "Gatsby tips"\n  }\n}\n')},{title:"View",icon:(0,p.tZ)(ne.VK,null),baseColor:"blue",text:(0,p.tZ)(U,null),example:(0,p.tZ)(B.Z,{title:"src/pages/homepage.js",language:"jsx"},"export ({ data }) => (\n  <div>\n    <h1>{data.site.title}</h1>\n    {data.site.description}\n  </div>\n)\n")},{title:"App",icon:(0,p.tZ)(ne.PL,null),baseColor:"yellow",text:(0,p.tZ)(te,null),example:(0,p.tZ)((function(){return(0,p.tZ)("div",{sx:{border:1,borderColor:"standardLine",borderRadius:2,display:"flex",flexDirection:"column",height:"100%",background:"secondaryBackground"}},(0,p.tZ)("div",{sx:{p:4,borderBottom:1,borderColor:"standardLine"}},"Home"),(0,p.tZ)("div",{sx:{p:4,height:"100%",background:"secondaryBackground"}},"Gatsby tips"))}),null)}];var ie=["src","height","title","width"];var ae=function(e){var t=e.lessonLink,n=e.lessonTitle,i=(0,o.useState)(0),a=i[0],s=i[1],l=(0,o.useRef)(),c=(0,o.useCallback)((function(){return s(l.current.clientWidth)}),[l.current]);return(0,o.useLayoutEffect)((function(){return c(),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[l.current]),(0,r.tZ)(o.Fragment,null,(0,r.tZ)("iframe",{ref:l,className:"egghead-video",width:600,height:.5625*a,src:t+"/embed",title:"Video: "+n,allowFullScreen:!0}),(0,r.tZ)("p",null,(0,r.tZ)("em",null,"Video hosted on ",(0,r.tZ)("a",{href:t},"egghead.io")),"."))},se=n(38599),le=n(22177),ce=n(40136),ue=function(e){var t=e.slug,n=function(e,t,n,r){var o,i=function e(t){return t.link===r?(o=t,!0):Array.isArray(t.items)&&t.items.some(e)};return e.some(i),t.some(i),n.some(i),o&&o.items}(se,le,ce,t)||[],i=n.map((function(e,t){return(0,r.tZ)("li",{key:t},(0,r.tZ)("a",{href:e.link},e.title))}));return i.length?(0,r.tZ)(o.Fragment,null,(0,r.tZ)("h2",null,"In this section:"),(0,r.tZ)("ul",null,i)):null};var de,me,fe,pe,he,ge={name:"1c3kvtn",styles:"display:inline;&:hover{text-decoration:none;}"},be={IFrame:function(e){var t=e.src,n=e.height,o=e.title,i=e.width,a=(0,D.Z)(e,ie);return(0,r.tZ)("div",{className:"gatsby-resp-iframe-wrapper",css:(0,r.iv)({paddingBottom:n/i*100+"%",position:"relative",height:0,overflow:"hidden","iframe, object":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},"")},(0,r.tZ)("iframe",(0,j.Z)({src:t,title:o},a)))},EggheadEmbed:ae,GuideList:ue,ComponentModel:function(e){var t=e.initialLayer;return(0,p.tZ)(Q.Z,{layers:oe,initialLayer:t})},Pullquote:I.Z,CloudCallout:A.Z,a:function(e){return(0,r.tZ)(M.L,(0,j.Z)({css:ge},e))},pre:function(e){var t=e.children;return(0,r.tZ)(z.Z,null,t)}},ye=function(e){var t=e.children;return(0,r.tZ)(N.MDXProvider,{components:be},t)},ve=n(96633),Ze=n(47939),xe=n(77600),we=n(9871),ke=n(578),Ce=n(98464),Oe=(0,ke.Z)("span",{target:"e11832yj0"})("align-items:center;border-radius:",(function(e){return e.theme.radii[2]}),";display:flex;height:2.5rem;padding:0 ",(function(e){return e.theme.space[10]})," 0 ",(function(e){return e.theme.space[4]}),";background:",(function(e){return e.theme.colors.white}),";color:",(function(e){return e.theme.colors.text.primary}),";box-shadow:",(function(e){return e.theme.shadows.floating}),",inset 0 0 0 1px ",(function(e){return e.theme.colors.grey[10]}),";transition:0.5s;white-space:nowrap;width:100%;",(function(e){return e.theme.mediaQueries.desktop}),"{width:auto;z-index:10;}"),Se=(0,ke.Z)("span",{target:"e11832yj1"})((function(e){var t;return(t={alignItems:"center",background:e.theme.colors.orange[60],borderRadius:e.theme.radii[6],color:e.theme.colors.white,display:"flex",fontSize:e.theme.fontSizes[1],height:e.theme.space[9],justifyContent:"center",position:"absolute",right:e.theme.space[2],transform:"scale(0.6)",transition:"0.5s",width:e.theme.space[9],zIndex:2,svg:{fill:e.theme.colors.white,height:e.theme.space[7],width:e.theme.space[7],transition:"0.5s"}})[e.theme.mediaQueries.desktop]={".opened &, .failed &, .success &, .submitting &":{svg:{height:e.theme.space[6],width:e.theme.space[6]},"&:hover":{svg:{transform:"rotate(90deg)",fill:e.theme.colors.accent}}}},t["@media screen and (prefers-reduced-motion: reduce)"]={transition:0},t}),""),je=(0,ke.Z)("button",{target:"e11832yj2"})("align-items:center;background:none;border:none;border-radius:",(function(e){return e.theme.radii[2]}),";cursor:pointer;display:flex;padding:0;position:relative;transition:0.6s ease;width:100%;z-index:3;&:hover{",Oe,"{box-shadow:0 0 0 0.12rem ",(function(e){return e.theme.colors.accent}),"88;}}&:focus{",(function(e){return(0,Ce.jq)(e.theme)}),"}.opened &,.failed &,.success &,.submitting &{display:none;}",(function(e){return e.theme.mediaQueries.desktop}),"{bottom:0;position:absolute;right:0;width:auto;.opened &,.failed &,.success &,.submitting &{display:flex;transform:translate(-",(function(e){return e.theme.space[3]}),",-26rem);",Se,"{background:",(function(e){return e.theme.colors.white}),";border:1px solid ",(function(e){return e.theme.colors.standardLine}),";transform:scale(1);svg{fill:",(function(e){return e.theme.colors.text.secondary}),";}}&:focus{box-shadow:none;",Se,"{",(function(e){return(0,Ce.jq)(e.theme)}),";}}}}@media screen and (prefers-reduced-motion:reduce){transition:0;}"),De=n(45761),Ee=(0,r.F4)(de||(de=(0,De.Z)(["\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),Pe=(0,r.F4)(me||(me=(0,De.Z)(["\n  0% {\n    transform: scale(1);\n    opacity: 0.5;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),Le=(0,ke.Z)("div",{target:"e1jk0tdk0"})("background-color:",(function(e){return e.theme.colors.white}),";border-top:1px solid ",(function(e){return e.theme.colors.standardLine}),";height:100%;opacity:0.5;padding:",(function(e){return e.theme.space[7]}),' 0;width:100%;z-index:2;[tabindex="-1"]:focus{outline:none;}.opened &{animation:',Ee," 0.5s ease forwards;}.failed &,.success &{animation:",Pe," 0.5s ease forwards;}@media screen and (prefers-reduced-motion:reduce){.opened &{animation:none;transform:scale(1);opacity:1;}.failed &,.success &{animation:none;transform:scale(1);opacity:1;}}.submitting &{transform:scale(1);opacity:1;}",(function(e){return e.theme.mediaQueries.desktop}),"{box-shadow:",(function(e){return e.theme.shadows.overlay}),";border:0;border-radius:",(function(e){return e.theme.radii[2]}),";height:100%;padding:",(function(e){return e.theme.space[8]})," ",(function(e){return e.theme.space[7]}),";transform:scale(0);transform-origin:top center;}"),Te=function(e){var t=e.children,n=e.handleClose,o=void 0===n?function(){return{}}:n;return(0,r.tZ)(Le,{role:"dialog",onKeyDown:function(e){27===e.keyCode&&o()}},t)};var Re=(0,r.F4)(fe||(fe=(0,De.Z)(["\n  from  {\n    transform: translate3d(0,0,0);\n  }\n  20%, 53%, 80%, to {\n    transform: translate3d(0,0.3rem,0);\n  }\n\n  40%, 43% {\n    transform: translate3d(0, -0.5rem, 0);\n  }\n\n  70% {\n    transform: translate3d(0, -0.2rem, 0);\n  }\n\n  90% {\n    transform: translate3d(0,0,0);\n  }\n"]))),Ne=(0,r.F4)(pe||(pe=(0,De.Z)(["\n\n  25% {\n    transform: rotate(7deg);\n  }\n  75% {\n    transform: rotate(-7deg);\n  }\n"]))),ze=(0,r.F4)(he||(he=(0,De.Z)(["\n  10% {\n    transform: translate3d(0, 0, 0);\n  }\n  60% {\n    transform: translate3d(0, -0.3rem, 0);\n  }\n  65% {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Ie=(0,ke.Z)("span",{target:"e1n6l24o0"})("display:block;height:",(function(e){return e.theme.space[10]}),";transition:0.5s;width:",(function(e){return e.theme.space[10]}),";svg{color:",(function(e){return e.theme.colors.grey[40]}),";height:100%;width:100%;}"),Ae=(0,ke.Z)("span",{target:"e1n6l24o1"})("display:block;font-size:",(function(e){return e.theme.fontSizes[0]}),";font-weight:bold;transition:0.5s;line-height:1;margin-top:",(function(e){return e.theme.space[2]}),";"),Me=(0,ke.Z)("label",{target:"e1n6l24o2"})("align-items:center;background:",(function(e){return e.theme.colors.grey[10]}),";cursor:pointer;display:flex;flex-basis:33.33%;flex-direction:column;justify-content:center;height:5.5rem;text-align:center;transition:background 0.25s;&.focused{background:",(function(e){return e.theme.colors.gatsby}),";color:",(function(e){return e.theme.colors.white}),";",Ie,"{svg{color:",(function(e){return e.theme.colors.white}),";}}}fieldset[disabled] &{cursor:not-allowed;}fieldset:not([disabled]) &{&:hover{&:nth-of-type(1){",Ie,"{transform:translateY(3.7rem);svg{animation:",ze," 3s ease infinite;}}",Ae,"{transform:translateY(-1.6rem);}}&:nth-of-type(2){",Ie,"{animation:",Ne," ease-in-out 0.8s infinite;}}&:nth-of-type(3){",Ie,"{animation:",Re," 1.2s infinite;}}}}"),Qe=(0,ke.Z)("input",{target:"e1n6l24o3"})({name:"1ty0az8",styles:"left:0;opacity:0;position:absolute;top:0;"}),Be=function(e){var t=e.iconLabel,n=e.ratingText,o=e.ratingValue,i=e.checked,a=e.handleChange,s=e.icon;return(0,r.tZ)(Me,{className:i?"focused":null},(0,r.tZ)(Ie,null,(0,r.tZ)(s,{"aria-label":t})),(0,r.tZ)(Ae,{className:"level"},n),(0,r.tZ)(Qe,{type:"radio",name:"feedback",value:o,id:"rating"+o,checked:i,onChange:a}))};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We={border:0,p:0,mb:5},qe={textAlign:"center",fontSize:1,mb:5};function Xe(e){var t=e.rating,n=e.submitting,r=e.handleChange;return(0,p.tZ)("fieldset",{sx:We,className:"ratings",disabled:n},(0,p.tZ)("legend",{sx:qe},"Rate your experience"),(0,p.tZ)("div",{sx:function(e){return function(e){return Ge(Ge({},(0,Ce.I9)(e)),{},{px:0,alignContent:"stretch",display:"flex",flex:"1 1 auto",justifyContent:"stretch",overflow:"hidden",transition:"0.5s",width:"99.99%","&:focus-within":Ge({},(0,Ce.ty)(e)),"[disabled] &":{opacity:"0.5"}})}(e)}},(0,p.tZ)(Be,{iconLabel:"frowning face",icon:O.Woz,ratingText:"poor",ratingValue:"1",checked:1===t,handleChange:r}),(0,p.tZ)(Be,{iconLabel:"neutral face",icon:O.riP,ratingText:"fine",ratingValue:"2",checked:2===t,handleChange:r}),(0,p.tZ)(Be,{iconLabel:"smiling face",icon:O.jbq,ratingText:"great",ratingValue:"3",checked:3===t,handleChange:r})))}var He=n(25678),Ye=n(68791),Ve=n(72910);function _e(e){var t=e.handleSubmit,n=e.handleClose,r=e.handleChange,i=e.handleCommentChange,a=e.titleRef,s=e.rating,l=e.comment,c=e.submitting;return(0,p.tZ)(Te,{id:"feedback-widget",handleClose:n},(0,p.tZ)("form",{sx:{mb:0,display:"flex",flexDirection:"column",height:"100%"},onSubmit:t,className:c?"submitting":""},(0,p.tZ)(He.Dx,{ref:a,tabIndex:"-1"},"Was this doc helpful to you?"),(0,p.tZ)(Xe,{rating:s,handleChange:r,submitting:c}),(0,p.tZ)(Ye.x,{id:"feedback-comment",name:"feedback-comment",label:(0,p.tZ)(o.Fragment,null,"Your comments ",(0,p.tZ)("span",{sx:{color:"grey.50"}},"(optional)")),value:l,onChange:i,disabled:c,sx:{mb:5}}),(0,p.tZ)(He.eX,{sx:{mt:"auto"}},(0,p.tZ)(Ve.z,{variant:"SECONDARY",onClick:n,disabled:c,type:"button"},"Cancel"," ",(0,p.tZ)(He.Q2,{className:"sr-only"},"this widget")),(0,p.tZ)(Ve.z,{className:c&&"submitting",disabled:c,type:"submit",rightIcon:c?(0,p.tZ)(O.la_,null):(0,p.tZ)(O.D6S,null)},c?"Sending, wait":"Send feedback"))))}var $e=(0,ke.Z)(He.Dx,{target:"e1a2jjmf0"})("font-size:",(function(e){return e.theme.fontSizes[5]}),";margin-bottom:",(function(e){return e.theme.space[7]}),";text-align:left;"),Ke=function(e){var t=e.handleClose,n=e.titleRef;return(0,r.tZ)(Te,{className:"feedback-success",handleClose:t},(0,r.tZ)($e,{ref:n,tabIndex:"-1"},"Thanks for your feedback!"),(0,r.tZ)("p",null,"Your ratings and comments can help make Gatsby even better."),(0,r.tZ)(Ve.z,{variant:"SECONDARY",className:"dismiss",onClick:t},"Dismiss"))},Ue=function(e){var t=e.handleClose,n=e.handleOpen,o=e.titleRef;return(0,r.tZ)(Te,{className:"feedback-success",handleClose:t},(0,r.tZ)(He.Dx,{ref:o,tabIndex:"-1"},"Oops! Something went wrong."),(0,r.tZ)("p",null,"Please try again."),(0,r.tZ)(He.eX,null,(0,r.tZ)(Ve.z,{variant:"SECONDARY",onClick:t},"Cancel"," ",(0,r.tZ)(He.Q2,{className:"sr-only"},"this widget")),(0,r.tZ)(Ve.z,{onClick:n,rightIcon:(0,r.tZ)(O.hdK,null)},"Try Again")))},Je=(0,Ze.J)({id:"feedback",initial:"closed",context:{rating:2,comment:""},states:{opened:{onEntry:"focusWidgetTitle",on:{RATE:{actions:(0,xe.f0)({rating:function(e,t){return t.value}})},COMMENT:{actions:(0,xe.f0)({comment:function(e,t){return t.value}})},SUBMIT:"submitting"}},submitting:{invoke:{id:"postFeedback",src:function(e){return function(e){var t=e.rating,n=e.comment,r=window.location.href,o={variables:{rating:t,comment:n,url:r},query:"\n      mutation submit($rating: Int!, $url: String!, $comment: String) {\n        submitFeedback(input: {\n          rating: $rating,\n          originUrl: $url,\n          comment: $comment\n        })\n      }\n    "};return Promise.all([(0,ve.post)("https://us-central1-gatsby-core.cloudfunctions.net/public/graphql",o),(0,ve.post)("/api/send-docs-feedback-to-slack",{rating:t,url:r,comment:n})])}(e)},onDone:"success",onError:"failed"}},success:{onEntry:"focusSuccessTitle"},failed:{on:{OPEN:"opened"},onEntry:"focusErrorTitle"},closed:{on:{OPEN:"opened"},onEntry:[(0,xe.f0)({comment:"",rating:2})]}},on:{CLOSE:{target:"closed",actions:"focusOpenButton"}}}),et=function(){var e=(0,o.useRef)(null),t=(0,o.useRef)(null),n=(0,o.useRef)(null),i=(0,o.useRef)(null),a=(0,we.useMachine)(Je.withConfig({actions:{focusWidgetTitle:function(){requestAnimationFrame((function(){e.current.focus()}))},focusSuccessTitle:function(){requestAnimationFrame((function(){t.current.focus()}))},focusErrorTitle:function(){requestAnimationFrame((function(){n.current.focus()}))},focusOpenButton:function(){requestAnimationFrame((function(){i.current.focus()}))}}})),s=a[0],l=a[1],c=s.context,u=c.rating,d=c.comment,m=function(){return l("CLOSE")};return(0,r.tZ)(He.Hl,{className:s.value},(0,r.tZ)(je,{ref:i,className:"feedback-trigger","aria-haspopup":"true",onClick:function(){return l(s.matches("closed")?"OPEN":"CLOSE")}},s.matches("closed")?(0,r.tZ)(o.Fragment,null,(0,r.tZ)(Oe,null,"Was this doc helpful to you?"),(0,r.tZ)(Se,null,(0,r.tZ)(O.Rlc,null))):(0,r.tZ)(o.Fragment,null,(0,r.tZ)(He.Q2,null,"Close Rating Widget"),(0,r.tZ)(Se,null,(0,r.tZ)(O.FU5,null)))),(s.matches("opened")||s.matches("submitting"))&&(0,r.tZ)(_e,{handleClose:m,handleSubmit:function(e){e.preventDefault(),l("SUBMIT")},handleChange:function(e){l({type:"RATE",value:+e.target.value})},handleCommentChange:function(e){var t=e.target.value.replace(/(<([^>]+)>)/gi,"");l({type:"COMMENT",value:t})},titleRef:e,rating:u,comment:d,submitting:s.matches("submitting")}),s.matches("failed")&&(0,r.tZ)(Ue,{handleClose:m,handleOpen:function(){return l("OPEN")},titleRef:n}),s.matches("success")&&(0,r.tZ)(Ke,{handleClose:m,titleRef:t}))};var tt=function(e){return"undefined"==typeof window?null:(0,r.tZ)(et,e)},nt=n(31980);var rt="18rem",ot={name:"8kn4zf",styles:"margin-top:0;"};var it=function(e){var t,n=e.page,f=e.location,p=e.prev,h=e.next,g=e.tableOfContentsItems,b=void 0===g?n.tableOfContents.items:g,y=e.tableOfContentsDepth,v=void 0===y?n.frontmatter.tableOfContentsDepth:y,Z=e.children,x=n.frontmatter,w=n.excerpt,O=n.timeToRead,j=n.fields,D=n.body,E=x.description||w,P=!x.disableTableOfContents&&(null==b?void 0:b.length)>0,L=P||x.examples;return(0,r.tZ)(o.Fragment,null,(0,r.tZ)(r.xB,{styles:l.W}),(0,r.tZ)(u.Z,{location:f,SidebarComponent:d.o},(0,r.tZ)(c.Z,{title:x.title,description:E,type:"article",timeToRead:O}),(0,r.tZ)("main",{className:"docSearch-content"},(0,r.tZ)(m.D,null),(0,r.tZ)("div",{css:function(e){return{paddingLeft:e.space[7],paddingRight:e.space[7],paddingTop:e.space[10]}}},null!==(t=f.pathname)&&void 0!==t&&t.includes("/contributing")?(0,r.tZ)(C.ZP,{location:f}):(0,r.tZ)(C.es,{location:f,title:x.title}),(0,r.tZ)("h1",{id:j.anchor,css:ot},x.title)),(0,r.tZ)("div",{css:function(e){var t;return(t={})[e.mediaQueries.hd]={display:"flex",alignItems:"flex-start"},t}},L&&(0,r.tZ)("div",{css:function(e){var t;return(t={minWidth:0,paddingLeft:e.space[7],paddingRight:e.space[7],order:2})[e.mediaQueries.desktop]={paddingLeft:e.space[8],paddingRight:e.space[8]},t[e.mediaQueries.hd]={width:rt,position:"sticky",top:"calc("+nt.cM+" + "+e.space[10]+")",maxHeight:"calc(100vh - "+nt.cM+" - "+e.space[10]+" - "+e.space[10]+")",overflow:"auto",flexShrink:0},t}},P&&(0,r.tZ)(k,{items:b,depth:v,location:f}),x.examples&&(0,r.tZ)("div",{css:function(e){return{marginBottom:e.space[7]}}},(0,r.tZ)("h2",{css:function(e){var t;return(t={color:"text.secondary",fontSize:e.fontSizes[1],letterSpacing:"tracked",marginTop:P?"-1.5rem":0,marginBottom:e.space[7],textTransform:"uppercase"})[e.mediaQueries.hd]={marginTop:P?e.space[10]:0},t}},"Examples"),(0,r.tZ)("ul",{css:(0,r.iv)({listStyle:"none",margin:0},"")},x.examples.map((function(e){return(0,r.tZ)("li",{key:e.href,css:function(e){var t;return(t={})[e.mediaQueries.hd]={fontSize:e.fontSizes[1]},t}},(0,r.tZ)("a",{css:function(e){return{color:e.colors.text.secondary,transition:"all "+e.transitions.speed.fast+" "+e.transitions.curve.default,":hover":{color:e.colors.link.color,borderBottom:"1px solid "+e.colors.link.hoverBorder}}},href:e.href},(0,r.tZ)(s.Jmn,null)," ",e.label))}))))),(0,r.tZ)("div",{className:"main-body",css:function(e){var t,n;return[(t={paddingLeft:e.space[7],paddingRight:e.space[7],a:{wordBreak:"break-word"}},t[e.mediaQueries.desktop]={paddingBottom:e.space[5],paddingLeft:e.space[8],paddingRight:e.space[8]},t),L&&(n={},n[e.mediaQueries.hd]={maxWidth:nt.UY,minWidth:0},n)]}},(0,r.tZ)(a.Z,null,(0,r.tZ)(ye,null,(0,r.tZ)(i.MDXRenderer,{slug:j.slug},D))),Z,(0,r.tZ)(S,{path:j.relPath}),(0,r.tZ)(R,{css:function(e){return{marginTop:e.space[10]}},prev:p,next:h}))),(0,r.tZ)(tt,null))))}},98464:function(e,t,n){"use strict";n.d(t,{jq:function(){return a},ty:function(){return l},I9:function(){return c}});var r=n(96156);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){return{outline:0,boxShadow:"0 0 0 2px "+e.colors.purple[60]}},s=function(e){return i({borderColor:e.colors.white},a(e))},l=function(e){return{bg:e.colors.white,boxShadow:"0 0 0 2px "+e.colors.purple[30],outline:0,width:"100%"}},c=function(e){return i(i({},function(e){return{backgroundColor:e.colors.white,border:"1px solid "+e.colors.grey[30],borderRadius:2,display:"block",fontFamily:e.fonts.body,fontSize:2,fontWeight:e.fontWeights.body,lineHeight:"2.25rem",py:0,px:2,transition:"box-shadow "+e.transitions.speed.default+" "+e.transitions.curve.default,verticalAlign:"middle",width:"100%","::placeholder":{color:e.colors.grey[50],opacity:1},"&:focus":i({},s),"&:disabled":{cursor:"not-allowed",opacity:"0.5"}}}(e)),{},{appearance:"none",bg:e.colors.grey[10],border:0,color:"text",overflow:"hidden",px:3,":focus":i({},l(e)),"::placeholder":{color:e.colors.grey[60]}})}}}]);
//# sourceMappingURL=403cd6c0d320d72109b581cee6fccebe4fb4091f-8c72110b9e7cc8f626f6.js.map